---
import { Image } from "astro:assets";
import RootLayout from "@layouts/RootLayout.astro";
import { Route, routes } from "@data/routes";
import { aboutPageMetadata } from "@data/website";
import { jsonLD } from "@data/json-ld";

import type { ImageMetadata } from "astro";

const images = import.meta.glob<{ default: ImageMetadata }>("/src/data/images/certs/*.png");
const certs = Object.entries(images)
                    .sort((a, b) => a.at(0).localeCompare(b.at(0)))
                    .map(([path, importImage]) => (
                        {
                            importImage: importImage,
                            alt: path.split("/").pop()
                                .replace(".png", "")
                                .split("-")
                                .map((word) => word[0].toUpperCase() + word.slice(1))
                                .join(" ")
                        }
                    ));
---

<RootLayout
    title={aboutPageMetadata.title}
    description={aboutPageMetadata.description}
    jsonLD={jsonLD.about()}
>
    <section class="at-section min-h-[50vh] max-md:min-h-[50vh]">
        <header class="at-section-content max-w-[80%] max-lg:max-w-full my-8 grid-cols-1 pb-8">
            <div class="text-center">
                <h1>{routes[Route.ABOUT].label}</h1>
                <p>
                    Hey there! I am Andreas, a musician turned software developer with a passion for web development,
                    game development, and software architecture. I am {new Date().getFullYear() - 1988} years old, was
                    born and raised in Greece, and now live in the UK.
                </p>
            </div>
        </header>

        <div class="at-section-content max-w-[75%] max-md:max-w-full grid-cols-1">
            <div class="flex items-center">
                <!--TODO: Replace with actual image-->
                <Image
                    class="rounded"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/310px-Placeholder_view_vector.svg.png"
                    alt="Placeholder"
                    width="600"
                    height="600"
                />
            </div>
            <div class="mt-4">
                <h2>Quick facts</h2>
                <ol class="ml-4 list-decimal">
                    <li>I am a self-taught software developer and have been working with software for the
                        past {new Date().getFullYear() - 2020} years.
                    </li>
                    <li>I used to write and orchestrate music professionally for more than 8 years prior to the above.
                    </li>
                    <li>Back in 2005, I was a CS student, but never graduated.</li>
                    <li>
                        Music was my way out of university and, ironically, my way back in with writing music for games,
                        slowly getting me into Unity and game development.
                    </li>
                    <li>
                        I've got 3 developer-related certifications (1x Unity, 2x Salesforce) and have worked with
                        various programming languages.
                    </li>
                </ol>
            </div>
        </div>
    </section>

    <section class="at-section min-h-[75vh] max-md:min-h-[50vh]">
        <div
            class="at-section-content max-w-full grid-cols-2
                 max-lg:flex max-lg:flex-col-reverse"
        >
            <div class="w-full flex flex-col justify-center gap-4">
                <h2>Background</h2>
                <p>
                    At a very young age, probably around 12, I was introduced to programming and got interested in game
                    development. I made it my goal to study Computer Science in university and I actually achieved that.
                    Unfortunately, university wasn't feeling right for me. At the same time, I was studying music at a
                    conservatory and it was way more fun and fulfilling.
                </p>
                <p>
                    My main musical instrument was the guitar, but I also learnt to play the bass, the piano and the
                    tuba. Being kind of a geek, I found interest in the theory behind music and got certifications in
                    classical music harmony, counterpoint/fugue, and orchestration. I worked with various ensembles,
                    rock/metal bands, classical and philharmonic orchestras, and even the army's marching band, both as
                    an instrumentalist, composer and orchestrator.
                </p>
            </div>
            <div class="flex items-center">
                <!--TODO: Replace with actual image-->
                <Image
                    class="rounded"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/310px-Placeholder_view_vector.svg.png"
                    alt="Placeholder"
                    width="600"
                    height="600"
                />
            </div>
        </div>
    </section>

    <section class="at-section min-h-[75vh] max-md:min-h-[50vh]">
        <div
            class="at-section-content max-w-full grid-cols-2 max-lg:grid-cols-1"
        >
            <div class="flex items-center">
                <!--TODO: Replace with actual image-->
                <Image
                    class="rounded"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/310px-Placeholder_view_vector.svg.png"
                    alt="Placeholder"
                    width="600"
                    height="600"
                />
            </div>
            <div class="w-full flex flex-col justify-center gap-4">
                <h2>Intro to code</h2>
                <p>
                    Around 2019, I moved to the UK, and when I finally managed to buy a laptop (yeah, those first months
                    before that were fun), I started recording music for video games. It was the time the pandemic hit
                    when I got into Unity, as I thought it would help me as a game music composer. From there, I started
                    building tools for my own use and slowly learnt C# from YouTube tutorials.
                </p>
                <p>
                    Coding was way different than I remembered it from my university days. Within a year, I landed
                    my first job as a software developer. In my free time, I was practicing more languages (C#, C++,
                    JavaScript/TypeScript, Java) and frameworks, cloud technologies, and also got those fancy
                    little badges!
                </p>
                <div class="flex justify-center gap-4">
                    {certs.map((cert) => (
                        <Image
                            src={cert.importImage()}
                            alt={cert.alt}
                            formats={["webp", "avif"]}
                            width="80"
                            height="80"
                        />
                    ))}
                </div>
            </div>
        </div>
    </section>

    <section class="at-section min-h-[75vh] max-md:min-h-[50vh]">
        <div
            class="at-section-content max-w-[80%] max-lg:max-w-full grid-cols-1"
        >
            <div class="w-full flex flex-col justify-center gap-4">
                <h2>The present</h2>
                <p>
                    I am currently working as a software developer, building cloud-based web applications. There are
                    also a few personal projects that keep me busy outside of work, one of which is this blog. I am also
                    learning more about software architecture and design patterns, experimenting with low-level stuff,
                    and I am trying to get more involved in the developer community.
                </p>
            </div>
        </div>
    </section>
</RootLayout>